\documentclass{jsarticle}

\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{float}
\usepackage{url}
\usepackage{amsmath}
\usepackage{listings}

\lstset{
  basicstyle={\ttfamily},
  identifierstyle={\small},
  commentstyle={\smallitshape},
  keywordstyle={\small\bfseries},
  ndkeywordstyle={\small},
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  xrightmargin=0zw,
  xleftmargin=3zw,
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1zw,
  lineskip=-0.5ex
}

\title{情報領域演習第二 C演習（クラス3）}
\author{学籍番号: 1810678\ クラス: 3 \\
        名前: 山田朔也}

\begin{document}
  \maketitle
  \begin{description}
      \item[課題1]
      まず、作成したソースコードを、Listing\ref{prob1}に示す。
      \begin{lstlisting}[caption=課題1のソースコード, label=prob1]
          .data
          .text
      newline:.asciiz "\n"
          .globl main
          .ent main
      main:
          subu    $sp, 16
          sw      $ra, 12($sp)
          li      $t0, 10
          li      $t1, 15
          li      $t2, 5
          add     $a0, $t0, $t1
          sub     $a0, $a0, $t2
          li      $v0, 1
          syscall
          la      $a0, newline
          li      $v0, 4
          syscall
          move    $v0, $zero
          lw      $ra, 12($sp)
          addu    $sp, 16
          jr      $ra
          .end
      \end{lstlisting}
      また、この実行例は以下のListing\ref{prob1_ex}ようになる。
      \begin{lstlisting}[caption=課題1の実行例, label=prob1_ex]
      (spim) load "prob1.asm"
      (spim) run
      20
      \end{lstlisting}


      \item[課題2]
      まず、作成したソースコードを、Listing\ref{prob2}に示す。
      \begin{lstlisting}[caption=課題2のソースコード, label=prob2]
          .data
      newline:.asciiz "\n"        #改行を画面に表示するおまじない
          .text
          .globl main
          .ent main
      main:
          subu    $sp, 16
          sw      $ra, 12($sp)
          li      $t0, 9
          li      $t1, 2
          div     $t0, $t1

          mflo    $a0
          li      $v0, 1          #整数を出力する命令
          syscall                 #$a0の値を画面に表示

          la      $a0, newline    #$a0にnewlineで定義された文字列をコピー
          li      $v0, 4          #文字列を出力する命令
          syscall                 #改行を画面に表示

          mfhi    $a0
          li      $v0, 1
          syscall

          la      $a0, newline
          li      $v0, 4
          syscall

          move    $v0, $zero
          lw      $ra, 12($sp)
          addu    $sp, 16
          jr      $ra
          .end
      \end{lstlisting}
      また、この実行例は以下のListing\ref{prob2_ex}ようになる。
      \begin{lstlisting}[caption=課題2の実行例, label=prob2_ex]
      (spim) load "prob2.asm"
      (spim) run
      4
      1
      \end{lstlisting}


      \item[課題3]
      まず、作成したソースコードを、Listing\ref{prob3}に示す。
      \begin{lstlisting}[caption=課題3のソースコード, label=prob3]
          .data
      newline:.asciiz "\n"        #改行を画面に表示するおまじない
          .text
          .globl main
          .ent main
      main:
          subu    $sp, 16
          sw      $ra, 12($sp)

          li      $v0, 5
          syscall                 #read_int
          move    $t0, $v0

          li      $v0, 5
          syscall                 #read_int
          move    $t1, $v0

          add     $a0, $t0, $t1

          li      $v0, 1          #整数を出力する命令
          syscall                 #$a0の値を画面に表示

          la      $a0, newline    #$a0にnewlineで定義された文字列をコピー
          li      $v0, 4          #文字列を出力する命令
          syscall                 #改行を画面に表示

          move    $v0, $zero
          lw      $ra, 12($sp)
          addu    $sp, 16
          jr      $ra
          .end
      \end{lstlisting}
      また、この実行例は以下のListing\ref{prob3_ex}ようになる。
      \begin{lstlisting}[caption=課題3の実行例, label=prob3_ex]
      (spim) load "prob3.asm"
      (spim) run
      150
      12
      162
      \end{lstlisting}



      \item[課題4]
      まず、作成したソースコードを、Listing\ref{prob4}に示す。
      \begin{lstlisting}[caption=課題4のソースコード, label=prob4]
          .data
      newline:.asciiz "\n"        #改行を画面に表示するおまじない
      hoge:.word  1 4 1 4 2 1 3 5
      bar:.word 0 0 0 0 0 0 0 0
          .text
          .align 2
          .globl main
          .ent main
      main:
          subu    $sp, 16
          sw      $ra, 12($sp)

          la      $t0, hoge
          la      $t1, bar
          li      $t2, 0          #i
          li      $t3, 8          #定数
          li      $t4, 0          #sum

      k1: bge     $t2, $t3, k2

          sll     $t5, $t2, 2
          add     $t6, $t5, $t1
          add     $t5, $t5, $t0
          lw      $t7, 0($t5)

          add     $t4, $t4, $t7

          sw      $t4, 0($t6)

          move    $a0, $t4

          li      $v0, 1          #整数を出力する命令
          syscall                 #$a0の値を画面に表示

          la      $a0, newline    #$a0にnewlineで定義された文字列をコピー
          li      $v0, 4          #文字列を出力する命令
          syscall                 #改行を画面に表示

          add     $t2, $t2, 1
          b       k1

      k2: move    $v0, $zero
          lw      $ra, 12($sp)
          addu    $sp, 16
          jr      $ra

          .end
      \end{lstlisting}
      また、この実行例は以下のListing\ref{prob4_ex}ようになる。
      \begin{lstlisting}[caption=課題4の実行例, label=prob4_ex]
      (spim) load "prob4.asm"
      (spim) run
      1
      5
      6
      10
      12
      13
      16
      21
      \end{lstlisting}

  \end{description}
\end{document}
